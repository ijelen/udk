@charset 'utf-8';

@import 'settings';
@import 'foundation';
@import 'motion-ui';
@import 'vendor/swipebox';

@include foundation-global-styles;
@include foundation-grid;
// @include foundation-flex-grid;
@include foundation-typography;
@include foundation-button;
// @include foundation-forms;
// @include foundation-range-input;
// @include foundation-accordion;
@include foundation-accordion-menu;
// @include foundation-badge;
// @include foundation-breadcrumbs;
// @include foundation-button-group;
// @include foundation-callout;
// @include foundation-card;
// @include foundation-close-button;
@include foundation-menu;
@include foundation-menu-icon;
// @include foundation-drilldown-menu;
// @include foundation-dropdown;
// @include foundation-dropdown-menu;
// @include foundation-responsive-embed;
// @include foundation-label;
// @include foundation-media-object;
// @include foundation-off-canvas;
// @include foundation-orbit;
@include foundation-pagination;
// @include foundation-progress-bar;
// @include foundation-progress-element;
// @include foundation-meter-element;
// @include foundation-slider;
// @include foundation-sticky;
// @include foundation-reveal;
// @include foundation-switch;
// @include foundation-table;
@include foundation-tabs;
// @include foundation-thumbnail;
@include foundation-title-bar;
// @include foundation-tooltip;
// @include foundation-top-bar;
@include foundation-visibility-classes;
@include foundation-float-classes;
// @include foundation-flex-classes;

// @include motion-ui-transitions;
// @include motion-ui-animations;

@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,800&subset=latin-ext');
@import url('https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700');

$meta-color: #777;
$text-color: #333;

body {
	background-color: #D4D4D4;
	color: #333; 
	font-family: $body-font-family;
	font-weight: 400;
	@media screen and #{breakpoint(medium only)} {
		background-color: $body-background;
		}
	@media screen and #{breakpoint(small only)} {
			font-size: .9rem;
		}
}

h1 {
	margin-bottom: 0
}
h2 {
	font-weight: bold;
	letter-spacing: -1px;
	margin-top: 2.5rem;
	margin-bottom: 0;
	a {
		color: #504F4F;
	}
	a:hover {
		color: $primary-color;
	}	
}
h3 {font-weight: bold}
h4 {
	font-weight: bold;
	font-family: $body-font-family;
}
@media screen and (min-width: 40rem) and (max-width: 47rem) {
	h2 {font-size: 1.9rem}
	h3 {font-size: 1.4rem}
 }
a:active {transform: translateY(2px);}

::selection {
  background: $primary-color; /* WebKit/Blink Browsers */
  color: $white;
}
::-moz-selection {
  background: $primary-color; /* Gecko Browsers */
  color: $white;
}
abbr {color: inherit}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to { 
    transform: rotate(360deg);
  }
}

.meta {
	color: $meta-color; 
	margin-bottom: .5rem; 
	padding: 0;
	font-family: 'Open Sans', sans-serif;
	font-size: .9rem;
	@media screen and #{breakpoint(small only)} {
		font-size: .8rem;
		}
	.autor {
		margin-left: .25rem
	}
	.autor:before {
		content: '|';
		color: #ccc;
		margin-right: .25rem;
	}
}

#main {
	padding: 1.7rem 1rem 0;
	@media screen and #{breakpoint(small only)} {
		body.show-left-menu & {filter: blur(1px);}
		}
	@media screen and #{breakpoint(medium only)} {
		padding: 0 1rem;
		}
	@media screen and #{breakpoint(large)} {
		padding: 0 2rem;
		}
	background: $body-background;
	min-height: 100vh;
	border-top-right-radius: 6px;
	border-bottom-right-radius: 6px;
	transition_: filter 1s;
}
#main svg.logo {
	width: 55%; 
	margin: 3.3rem 0 0 0;
	@media screen and #{breakpoint(medium only)} {
		margin-top: 2.6rem;
		}
}
@media screen and (min-width: 40rem) and (max-width: 47rem) {
	#main svg.logo {width: 63%}
 }

#main header#glava {
	position: relative;
	@media screen and #{breakpoint(small only)} {
		display: none
		}
	}
#main section, #main article {
	p a, li:not(.tabs-title) a {
		color: $text-color;
		text-shadow: 3px 0 $body-background,2px 0 $body-background,1px 0 $body-background,-1px 0 $body-background,-2px 0 $body-background,-3px 0 $body-background;
		background-image: linear-gradient($primary-color,$primary-color);
		background-repeat: no-repeat;
		background-size: 100% 1px;
		background-position: center bottom 29%;
		background-origin: padding-box;
		padding: 8px 0;
		&:active {position: relative; top: 1px} 
		&:hover {background-size: 100% 2px; background-position: center bottom 25%;}
	}
}

article.obavijest {
	padding: 1rem 1rem .3rem 1rem;
	border-top_: 1px solid darken($body-background, 10%);
	border-bottom_: 1px solid darken($body-background, 10%);
	border-radius: $global-radius;
	background-color: darken($body-background, 5%);
	.autor_obavijest {
		text-align: right;
		font-style: italic;
	}
}

header#glava {
	font-family: $menu-font-family;
	p {
		border-top: solid 2px $primary-color;
		position: relative;
		@media screen and #{breakpoint(medium only)} {
			font-size: .9rem;
		}
	}
	#time {
		font-size: 14px;
		@media screen and #{breakpoint(medium only)} {
			font-size: 13px;
		}
	}
	p span#vrijeme {
		position: absolute; 
		right: 0; 
		top: 0;
	}
	#vrijeme_celzijusa {margin-right: rem-calc(7); letter-spacing: -1px}
	#vrijeme_opis {margin-right: rem-calc(5)}
	#vrijeme_ikona {
		max-width: rem-calc(18);
		margin-right: -3px;
		margin-top: -2px;
	}
	img {transition: 1s all;}
	img[src="http://icons.wxug.com/i/c/i/clear.gif"]:hover {
		transform: scale(1.2);
		animation: rotate 1s linear;
		filter: sepia(80%)  brightness(90%);
	}
	img[src="http://icons.wxug.com/i/c/i/nt_clear.gif"]:hover {
		animation: rotate .5s linear;
	}
	#kontakt {
		display: none;
		position: absolute;
		right: 0;
		top: .4rem;
		width: 5.5rem;
		text-align: right;
		@media screen and #{breakpoint(medium only)} {
			width: 5rem;
		}
		a {
			font-size: 1rem;  
			color: $header-black;
			display: block;
			background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNy4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ImZpLW1haWwiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTAwcHgiIGhlaWdodD0iMTAwcHgiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCgkgPHN0eWxlPnBhdGh7ZmlsbDojNGQ0ZWExfTwvc3R5bGU+DQo8Zz4NCgk8cGF0aCBkPSJNODUuOTQ0LDIwLjE4OUgxNC4wNTZjLTEuNDEsMC0yLjU1NiwxLjE0Ny0yLjU1NiwyLjU1N3Y1LjE0NGMwLDAuMjM3LDAuMjU3LDAuNTA5LDAuNDY3LDAuNjE5DQoJCWwzNy43ODYsMjEuNTgzYzAuMDk4LDAuMDU3LDAuMjA4LDAuMDgzLDAuMzE4LDAuMDgzYzAuMTEyLDAsMC4yMjUtMC4wMjksMC4zMjQtMC4wODhMODcuMDM5LDI4LjUzDQoJCWMwLjIwNi0wLjExNSwwLjc1Mi0wLjQxOSwwLjk1Ny0wLjU1OWMwLjI0OC0wLjE2OSwwLjUwNC0wLjMyMiwwLjUwNC0wLjYyNXYtNC42MDFDODguNSwyMS4zMzYsODcuMzU0LDIwLjE4OSw4NS45NDQsMjAuMTg5eiIvPg0KCTxwYXRoIGQ9Ik04OC4xODEsMzUuNjQ2Yy0wLjItMC4xMTYtMC40NDQtMC4xMTEtMC42NDUsMC4wMDRMNjYuNzk5LDQ3Ljg1MWMtMC4xNjYsMC4wOTYtMC4yODEsMC4yNjYtMC4zMDksMC40NTgNCgkJYy0wLjAyNSwwLjE5MSwwLjAzNSwwLjM4NiwwLjE2NCwwLjUyN2wyMC43NCwyMi4zNTdjMC4xMjMsMC4xMzMsMC4yOTEsMC4yMDQsMC40NjcsMC4yMDRjMC4wNzksMCwwLjE1OS0wLjAxNSwwLjIzNC0wLjA0Mw0KCQljMC4yNDUtMC4wOTcsMC40MDUtMC4zMzIsMC40MDUtMC41OTZWMzYuMjAxQzg4LjUsMzUuOTcxLDg4LjM3OSwzNS43Niw4OC4xODEsMzUuNjQ2eiIvPg0KCTxwYXRoIGQ9Ik02MC44MjMsNTEuOTQ4Yy0wLjIwNC0wLjIyMS0wLjUzMi0wLjI3LTAuNzkxLTAuMTE4bC04LjMxMiw0Ljg5MWMtMC45NzYsMC41NzQtMi4yMjYsMC41NzktMy4yMDgsMC4wMjENCgkJbC03LjMxNS00LjE3OWMtMC4yNDItMC4xMzctMC41NDctMC4xMDQtMC43NTEsMC4wODZMMTIuNjY4LDc4LjQxNWMtMC4xNDgsMC4xMzgtMC4yMjIsMC4zMzctMC4yLDAuNTM4DQoJCWMwLjAyMiwwLjIwMSwwLjEzOSwwLjM4MSwwLjMxNCwwLjQ4MmMwLjQzMiwwLjI1NCwwLjg0OSwwLjM3NSwxLjI3MywwLjM3NWg3MS4xNTNjMC4yNTUsMCwwLjQ4NS0wLjE1MSwwLjU4NS0wLjM4NQ0KCQljMC4xMDItMC4yMzIsMC4wNTYtMC41MDMtMC4xMTgtMC42ODlMNjAuODIzLDUxLjk0OHoiLz4NCgk8cGF0aCBkPSJNMzQuMzM0LDQ5LjYwMWMwLjE1LTAuMTM3LDAuMjI1LTAuMzM5LDAuMjAzLTAuNTRjLTAuMDIyLTAuMjAyLTAuMTQyLTAuMzgxLTAuMzE4LTAuNDgzTDEyLjQ1MywzNi4xNDYNCgkJYy0wLjE5NC0wLjExMi0wLjQzOS0wLjExLTAuNjM3LDAuMDA0Yy0wLjE5NiwwLjExNC0wLjMxNiwwLjMyNS0wLjMxNiwwLjU1MnYzMi42MmMwLDAuMjUzLDAuMTUsMC40ODMsMC4zODIsMC41ODQNCgkJYzAuMDgyLDAuMDM3LDAuMTY5LDAuMDU1LDAuMjU3LDAuMDU1YzAuMTU3LDAsMC4zMTQtMC4wNTksMC40MzQtMC4xNzFMMzQuMzM0LDQ5LjYwMXoiLz4NCjwvZz4NCjwvc3ZnPg0K) no-repeat left 50%;
			background-size: contain;
			@media screen and #{breakpoint(medium only)} {
				font-size: .9rem;
			}
		}
	}
}
 

/* #left-menu */
#left-menu {
	background: $body-background;
	top: 3rem;
	position: fixed;
	box-shadow: 0px 2px 21px 0px rgba(0,0,0,0.32);
	z-index: 10;
	max-height: 0;
	overflow: hidden;
	will-change: max-height;
	transition_: max-height .5s ease;
	body.show-left-menu & {max-height: 100%}
	/* Class that's applied for a second for a rare occasion that the menu isn't clicked but the window is scrolled*/
	/* I used Headroom callback function to apply this class*/
	&.quicklyHidden {
		display: none;
	}
	@media screen and #{breakpoint(medium)} {
		/*min-height always overrides max-height*/
 		min-height: 100%; 
 		max-height: inherit;
  		box-shadow: none;
  		top: initial;
  		position: static;
  		overflow: initial; 
	}
	@media screen and #{breakpoint(large)} {
		/*min-height always overrides max-height*/
  		position: fixed;
	}
}


/* #title-bar */
#title-bar {
	display: flex; 
	padding: 0 .5em; 
	justify-content: space-between; 
	align-items: center; 
	height: 3rem; 
	background-color: $primary-color;
	position: fixed;
	width: 100%;
	z-index: 5;
}

#logo a {
	display: flex; 
	align-items: center;
}
#title-bar svg {
	padding: 0; 
	margin: 0;  
	margin-left: .3rem;
	width: 150px;
	path {fill: $white;}
	}

.title-bar-title {
	font-family: $menu-font-family;
	text-transform: uppercase; 
	color: $white;
	font-weight: normal; 
	font-size: .8rem; 
	margin-left: .1rem; 
	margin-right: .2rem
}

@media (max-width: 400px) {
	.title-bar-title {display: none}
}

/*Headroom*/

.headroom {
    will-change: transform;
    transition: transform 200ms linear;
}
.headroom--pinned {
    transform: translateY(0%);
}
.headroom--unpinned {
    transform: translateY(-100%);
}

nav > ul.menu {
	margin-top: .3rem;
	font-family: $menu-font-family;
	@media screen and #{breakpoint(medium)} {
		margin-top: 1.4rem;
	}
}
.menu li {
	padding: 1px 0 0 0;
}
.menu > li > a {
	line-height: 1.8;
	color: $header-black;
	@media screen and (max-width: 500px) {
		font-size: .9rem;
		line-height: 1.5;
	}
	font-size: .9rem; 
	@media screen and #{breakpoint(large)} {
		font-size: 1rem;
	}
}
/* the arrow*/
.menu > li.active > a::after {
	border-color: $white transparent transparent;
	transition: .5s all;
}
.menu:not(.nested) > li.active > a {
	border-left: 4px solid $primary-color;
	padding-left: 12px;
	background: lighten($primary-color, 14%);
	color: $white;
}
.menu.nested > li.active > a {
	padding-left: 12px;
	background: lighten($primary-color, 20%);
	color: $white;
}
.menu > li:hover:not(.active) > a {
	background: darken($body-background, 5%);
}
.menu li li > a {
	padding-left: .5rem;
	padding-right: .5rem;
}
.menu li.active li.active > a {
	padding-left: 6px;
}

/* #hero-image */
#hero-image {
	position: relative;
	img {border-radius: 6px}
	img, svg {transition: .6s all}
	&.enlarge img {
		transform: scale(1.03); 
		box-shadow: 0px 2px 10px 0px rgba(0,0,0,0.42);
	}
	svg {
		position: absolute; 
		bottom: 5px; 
		left: 15%; 
		width: 70%; 
		opacity: 0
	}
	&.enlarge svg {opacity: 1}
}

/* article */
article, section {
	margin-bottom: 1rem;
	margin-top: 2.5rem;
	h2 {margin-top: 0;}
	figure {margin-bottom: 1rem}
	
	.photos {
		&:after {
			content: '';
			display: block;
			clear: both;
		}
		div {
			width: 20%;
			float: left;
			padding: rem-calc(5);
			@media screen and #{breakpoint(small only)} {
				width: 25%;
				padding: rem-calc(4);
			}
			img {margin: 0 auto; display: block; transition: .6s all}
			img:hover {box-shadow: 0px 2px 3px 0px rgba(0,0,0,0.32);}
		}
	}
	.photos.flex {
		display: flex;
		div {
			width: auto;
		}
	}
}


/* #vise-vijesti */
#vise-vijesti {
	margin-top: 3rem;
	&::after {
		content: '';
		display: block;
		clear: both;
	}
	div {
		@media screen and #{breakpoint(medium)} {			
			float: left;
			width: 50%;
		}
	}
	div:nth-child(1) {
		@media screen and #{breakpoint(medium)} {
			padding-right: 1rem;
		}
	}
	div:nth-child(2) {
		@media screen and #{breakpoint(medium)} {
			padding-left: 1rem;
		}
	}
	h2 {
		font-size: 1rem;
		margin-top: rem-calc(10);
	}
	p {
		margin-bottom: 0;
		font-size: .9rem;
		.autor {margin-left: .2rem;}
		.autor:before {
			content: '|';
			color: #ccc;
			margin-right: .2rem;
		}
	}
}

/* SVG */
path {fill: $primary-color; transition: all .7s;}
path:hover {fill: lighten($primary-color, 6%);}

.pagination {
	margin-top: 3rem;
	font-family: $menu-font-family;
}


/* Footer */
footer {
	font-family: $menu-font-family;
	border-top: 1px solid #999;
	padding: 1rem 0;
	margin-top: 3rem;
	p {
		color: #777;  
		padding: 0;
		font-size: .8rem;
		margin-bottom: rem-calc(5);
	}
	#small-print svg.logo {
		width: 8rem;
		margin-top: 0;
		path {fill: #999;}
	}
}

/* #fotogalerija */

#fotogalerija {
	&::after {
		content: '';
		display: block;
		clear: both;
	}
	a {
		display: block;
		margin-bottom: .9rem;
		@media screen and #{breakpoint(medium)} {			
			float: left;
			width: 50%;
		}
	} 
	a:hover div {
		background-color: darken(#F1F0EC, 2%);
		box-shadow: 0px 2px 3px 0px rgba(0,0,0,0.32);
		transform_: scale(1.01);
	}
	a:hover div.item {border-top: 1px solid darken(#F1F0EC, 8%);}
	a:nth-child(odd) {
		@media screen and #{breakpoint(medium)} {
			padding-right: .5rem;
		}
	}
	a:nth-child(even) {
		@media screen and #{breakpoint(medium)} {
			padding-left: .5rem;
		}
	}
	div {
		transition_: .3s all ease-in;
	}
	div.item {
		background: bottom center no-repeat; 
		background-size: contain;
		width: 100%;
		border-top: 1px solid #F1F0EC;
		
	}
	div.item::before {
		content: '';
		display: block;
		padding-top: 75%;
		/* Fluid square with 3/4 ratio */
	}
	div.caption {
		font-style: italic; 
		padding: .2rem;
		border-bottom-left-radius: $global-radius;
		border-bottom-right-radius: $global-radius;
		p {
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}
	}
	div p {
		text-align: center;
		font-size: .9rem;
		margin: 0;
		color: $meta-color;
	}
}


/*TODO: use #main header*/
body:not(.naslovnica) {
	header {margin-bottom: 1rem}
}
body.o_domu, 
body.djelatnici, 
body.odgojne_skupine {
	.photos {
		margin-bottom: 1rem;
	}
}

body.domski_filmovi {
	article {margin-top: 0}
	.pagination {margin-top: 2rem}
	/* Tweak so there are two columns even on mobile if there's enough room */
	@media screen and (min-width: 500px) {
		article {
			float: left;
			width: 50%;
			}
		article:nth-child(even) {padding-right: .5rem;}
		article:nth-child(odd) {padding-left: .5rem;}
		section:after {
			content: '';
			display: block;
			clear: both;
		}
	}
}

body.odgojne_skupine {
	article {
		margin-top: 1rem;
		}
	/* Tweak so there are two columns even on mobile if there's enough room */
	@media screen and (min-width: 500px) {
		article {
			float: left;
			width: 50%;
			margin-top: 1rem;
			}
		article:nth-child(odd) {padding-right: .5rem;}
		article:nth-child(even) {padding-left: .5rem;}
		#main div:after {
			content: '';
			display: block;
			clear: both;
		}
	}
}

body.dokumenti {
	.tabs-title > a {font-family: $menu-font-family; font-size: .9rem}
	ul#dokumenti {margin-top: 1.7rem}
	.tabs-panel {padding: 1rem 0 0}
	.tabs-panel li {margin-top: 4px;}
	.tabs-content {border: 0;}
	.tabs-title > a:active {transform: translateY(0);}
}

body.kontakt {
	h3 {display: none;}
	#adresa {
		background: url(../img/fi-marker.svg) top left no-repeat;
		margin-top: 2rem;
	}
	#telefon {
		background: url(../img/fi-telephone.svg) top left no-repeat;
	}
	#mail {
		background: url(../img/fi-mail-contact-page.svg) top left no-repeat;
	}
	#adresa, #telefon, #mail {
		padding-left: 10%;
		padding-bottom: 1.5rem;
		background-origin: padding-box;
		background-size: 6%;
		@media screen and #{breakpoint(small only)} {
			padding-left: 13%;
			background-size: 9%;
		}
	}
	#mail span {color: $dark-gray}
}

body.radovi {
	h3 {
		font-family: $body-font-family;
		font-weight: bold;
		margin-bottom: 1rem;
	}
	.pjesma {
		margin: 3rem 0 0 2rem;
		@media screen and #{breakpoint(small only)} {
			margin: 3rem 0 0 0;
		}
	}
	.autor_pjesme {
		font-style: italic;
		margin-left: 8rem;
	}
}
body.zakljucci,
body.natjecaji {
	/*Cool hack to reverse the order*/
	#main ul {
    	transform: rotate(180deg);
	}
	#main ul > li {
    	transform: rotate(-180deg);
	}
}
body.javna_nabava,
body.natjecaji {
	#main li {margin-top: .3rem;}
}
body.slobodne_aktivnosti #popis li, body.posebni_programi #popis li {margin-top: .3rem;}

